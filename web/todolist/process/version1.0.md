# 无人咖啡机器人安防监控系统 - 任务清单 V1.0

## 项目概述
基于PRD文档《无人咖啡机器人安防监控系统 - 算法模型 V1.0》，本任务清单详细分解了所有开发任务，按照GPCAD协议进行项目管理。

**开发环境调整说明：**
- **硬件环境**：初期开发在本地计算机进行，使用连接摄像头进行目标识别，暂不考虑工控机硬件限制
- **深度学习框架**：采用PyTorch作为主要开发框架
- **数据集策略**：优先使用现有公开数据集，后期根据需要创建专用数据集

## 任务分类与进度跟踪

### 1. 算法架构设计阶段

#### 1.1 技术选型与方案设计
- **任务ID**: ARCH-001
- **任务描述**: 完成模型架构选型，确定两阶段方案vs一阶段方案，基于PyTorch框架
- **优先级**: P0 (高)
- **状态**: ✅ 已完成
- **验收标准**: 
  - 完成基于PyTorch的技术评估报告
  - 选择最适合本地开发环境的方案
  - 给出充分的技术理由
- **预计工时**: 2-3天
- **负责人**: 算法工程师
- **开始时间**: 2025-01-XX
- **完成时间**: 2025-01-XX
- **当前进度**: 技术选型报告已提交（见 `web/todolist/process/技术选型报告-ARCH001.md`）

#### 1.2 模型接口设计
- **任务ID**: ARCH-002
- **任务描述**: 设计模型输入输出接口规范
- **优先级**: P0 (高)
- **状态**: ✅ 已完成
- **验收标准**:
  - 定义输入格式（OpenCV Mat）
  - 定义输出JSON格式
  - 完成接口文档
- **预计工时**: 1-2天
- **负责人**: 算法工程师
- **完成情况**: 已实现结果打包函数 `pack_results`，并在 `README.md` 增补接口规范；实时程序支持按 `P` 打印 JSON。

### 2. 数据准备阶段

#### 2.1 数据集调研与选择
- **任务ID**: DATA-001
- **任务描述**: 调研现有公开数据集，评估适用性，制定数据集使用策略
- **优先级**: P0 (高)
- **状态**: ✅ 已完成
- **验收标准**:
  - 完成公开数据集调研报告（UCF-Crime、UCSD Ped1/Ped2、ShanghaiTech等）
  - 评估数据集与项目需求的匹配度
  - 制定数据集预处理和增强策略
- **预计工时**: 2-3天
- **负责人**: 数据工程师
- **开始时间**: 2025-01-XX
- **完成时间**: 2025-01-XX
- **当前进度**: 数据集调研报告已提交（见 `web/todolist/process/数据集调研报告-DATA001.md`）

#### 2.2 数据预处理与增强
- **任务ID**: DATA-002
- **任务描述**: 对选定数据集进行预处理、格式转换和数据增强
- **优先级**: P0 (高)
- **状态**: 🔄 待开始
- **验收标准**:
  - 完成数据集格式统一和预处理
  - 实现数据增强策略（翻转、裁剪、亮度调整等）
  - 数据集质量验证通过
- **预计工时**: 2-3天
- **负责人**: 数据工程师

#### 2.3 本地摄像头数据采集（可选）
- **任务ID**: DATA-003
- **任务描述**: 使用本地摄像头采集补充数据，用于模型微调
- **优先级**: P1 (中)
- **状态**: 🔄 待开始
- **验收标准**:
  - 采集本地环境下的行为数据
  - 数据质量符合训练要求
  - 与公开数据集形成互补
- **预计工时**: 3-5天
- **负责人**: 数据工程师

#### 2.4 自定义数据集创建（如需要）
- **任务ID**: DATA-004
- **任务描述**: 如公开数据集无法满足需求，创建专用数据集
- **优先级**: P2 (低)
- **状态**: 🔄 待开始
- **验收标准**:
  - 制定专用数据标注规范
  - 完成数据采集和标注
  - 数据集质量验证
- **预计工时**: 5-7天
- **负责人**: 数据工程师

### 3. 模型开发阶段

#### 3.1 基础人体检测模型开发
- **任务ID**: MODEL-001
- **任务描述**: 基于PyTorch开发轻量级人体检测模型
- **优先级**: P0 (高)
- **状态**: 🚧 进行中
- **验收标准**:
  - 检测准确率≥95%，召回率≥90%
  - 本地环境单帧处理时间<100ms
  - 模型大小符合轻量化要求
- **预计工时**: 5-7天
- **负责人**: 算法工程师

#### 3.2 行为分类模型开发
- **任务ID**: MODEL-002
- **任务描述**: 基于PyTorch开发异常行为分类模型
- **优先级**: P0 (高)
- **状态**: 🚧 进行中
- **验收标准**:
  - P0级行为识别准确率>95%
  - P1级行为识别准确率>90%
  - 整体误报率<5次/24小时
- **预计工时**: 7-10天
- **负责人**: 算法工程师

#### 3.3 模型集成与优化
- **任务ID**: MODEL-003
- **任务描述**: 集成检测和分类模型，进行整体优化
- **优先级**: P0 (高)
- **状态**: 🔄 待开始
- **验收标准**:
  - 端到端性能达到要求
  - 本地环境CPU占用率<50%
  - 内存占用<512MB
- **预计工时**: 3-5天
- **负责人**: 算法工程师

### 4. 模型部署阶段

#### 4.1 模型优化与加速
- **任务ID**: DEPLOY-001
- **任务描述**: 使用TorchScript/ONNX优化模型，适配本地部署
- **优先级**: P0 (高)
- **状态**: 🔄 待开始
- **验收标准**:
  - 模型推理速度提升
  - 资源占用进一步降低
  - 保持模型精度
- **预计工时**: 2-3天
- **负责人**: 算法工程师

#### 4.2 本地部署与测试
- **任务ID**: DEPLOY-002
- **任务描述**: 在本地环境部署模型，连接摄像头进行实时测试
- **优先级**: P0 (高)
- **状态**: 🚧 进行中
- **验收标准**:
  - 成功部署模型服务
  - 摄像头实时识别功能正常
  - 系统运行稳定
- **预计工时**: 2-3天
- **负责人**: 算法工程师

#### 4.3 接口封装与文档
- **任务ID**: DEPLOY-003
- **任务描述**: 封装模型接口，编写调用文档
- **优先级**: P1 (中)
- **状态**: 🔄 待开始
- **验收标准**:
  - 提供易用的API接口
  - 完成接口调用说明文档
  - 提供使用示例
- **预计工时**: 2-3天
- **负责人**: 算法工程师

### 5. 测试验证阶段

#### 5.1 单元测试开发
- **任务ID**: TEST-001
- **任务描述**: 开发模型功能的单元测试用例
- **优先级**: P1 (中)
- **状态**: 🔄 待开始
- **验收标准**:
  - 覆盖主要功能模块
  - 测试用例通过率100%
  - 自动化测试流程
- **预计工时**: 3-4天
- **负责人**: 测试工程师

#### 5.2 性能测试
- **任务ID**: TEST-002
- **任务描述**: 进行模型性能指标测试
- **优先级**: P0 (高)
- **状态**: 🔄 待开始
- **验收标准**:
  - 验证所有性能指标
  - 生成性能测试报告
  - 达到PRD要求
- **预计工时**: 2-3天
- **负责人**: 测试工程师

#### 5.3 真实场景测试
- **任务ID**: TEST-003
- **任务描述**: 在真实场景下进行综合测试
- **优先级**: P0 (高)
- **状态**: 🔄 待开始
- **验收标准**:
  - 模拟场景测试通过
  - 真实场景测试稳定
  - 误报率符合要求
- **预计工时**: 5-7天
- **负责人**: 测试工程师 + 现场团队

### 6. 文档交付阶段

#### 6.1 技术文档编写
- **任务ID**: DOC-001
- **任务描述**: 编写算法技术选型与设计方案文档
- **优先级**: P1 (中)
- **状态**: 🔄 待开始
- **验收标准**:
  - 完成技术选型文档
  - 完成设计方案文档
  - 文档内容完整准确
- **预计工时**: 2-3天
- **负责人**: 算法工程师

#### 6.2 训练报告编写
- **任务ID**: DOC-002
- **任务描述**: 编写模型训练报告
- **优先级**: P1 (中)
- **状态**: 🔄 待开始
- **验收标准**:
  - 包含训练过程记录
  - 包含参数配置
  - 包含最终性能指标
- **预计工时**: 1-2天
- **负责人**: 算法工程师

#### 6.3 部署文档编写
- **任务ID**: DOC-003
- **任务描述**: 编写模型部署与接口调用说明文档
- **优先级**: P1 (中)
- **状态**: 🔄 待开始
- **验收标准**:
  - 部署步骤清晰
  - 接口调用说明详细
  - 提供故障排除指南
- **预计工时**: 2-3天
- **负责人**: 算法工程师

## 项目里程碑

### 里程碑1: 架构设计完成 (预计2周)
- ARCH-001, ARCH-002 完成
- 技术方案确定

### 里程碑2: 数据准备完成 (预计2周)
- DATA-001, DATA-002 完成
- 公开数据集调研和预处理完成

### 里程碑3: 模型开发完成 (预计3周)
- MODEL-001, MODEL-002, MODEL-003 完成
- 基础模型功能实现

### 里程碑4: 本地部署完成 (预计1周)
- DEPLOY-001, DEPLOY-002, DEPLOY-003 完成
- 本地环境模型部署完成

### 里程碑5: 测试验证完成 (预计2周)
- TEST-001, TEST-002, TEST-003 完成
- 系统通过验收

### 里程碑6: 文档交付完成 (预计1周)
- DOC-001, DOC-002, DOC-003 完成
- 项目完整交付

## 风险与依赖关系

### 关键风险
1. **数据集适配风险**: 公开数据集可能与实际应用场景存在差异
2. **性能风险**: 本地环境性能可能影响实时性要求
3. **时间风险**: 模型训练和优化可能需要更多时间

### 依赖关系
- MODEL-001 → MODEL-002 → MODEL-003
- DATA-001, DATA-002 → MODEL-001, MODEL-002
- DEPLOY-001 → DEPLOY-002
- 所有开发任务 → TEST-002, TEST-003

## 状态说明
- 🔄 待开始
- 🚧 进行中
- ✅ 已完成
- ❌ 已取消
- ⚠️ 有风险

## 更新记录
- 2025-01-XX: 初始版本创建，基于PRD文档分解任务
- 2025-01-XX: 根据公司要求调整计划：
  - 开发环境改为本地计算机，使用摄像头进行目标识别
  - 深度学习框架确定为PyTorch
  - 数据集策略调整为优先使用公开数据集
  - 调整相关任务工时和优先级
  - 更新里程碑时间安排
- 2025-01-XX: 项目开发启动：
  - 启动ARCH-001任务：PyTorch技术选型与方案设计（状态：进行中）
  - 启动DATA-001任务：数据集调研与选择（状态：进行中）
  - 两个任务并行进行，预计2-3天完成
- 2025-01-XX: 代码脚手架与最小可运行示例完成：
  - 新增 `web/requirements.txt`, `web/README.md`
  - 新增实时摄像头检测：`web/run_webcam.py`
  - 新增配置与工具：`web/src/config.py`, `web/src/utils/vis.py`
  - 新增检测模块：`web/src/detector/yolo_detector.py`
  - 更新任务状态：ARCH-001、DATA-001完成；MODEL-001、DEPLOY-002进行中
- 2025-01-XX: 行为分类占位与管线对接：
  - 新增分类器占位：`web/src/classifier/base.py`, `web/src/classifier/dummy_classifier.py`
  - 在 `web/run_webcam.py` 接入分类输出，端到端管线打通
  - 更新任务状态：MODEL-002 标记进行中
- 2025-01-XX: 接口规范完善：
  - 定义统一输出打包函数 `pack_results`，各数值保留 1 位小数
  - `README.md` 增补接口规范与按键打印说明
  - 更新任务状态：ARCH-002 标记已完成
